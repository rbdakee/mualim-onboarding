# Настройка проекта в Vercel

### Build and Output Settings:
- **Build Command**: `npm run build` (уже установлено по умолчанию)
- **Output Directory**: `Next.js default` (оставьте как есть)
- **Install Command**: `npm install` (уже установлено по умолчанию)
- **Root Directory**: `./` (корень проекта)

## 2. Переменные окружения (Settings → Environment Variables)

Добавьте следующие переменные окружения для всех окружений (Production, Preview, Development):

### Обязательные (для фронта)

```
IP=<ip_или_домен_бэкенда>
PORT=<порт_бэкенда>
X-API-TOKEN=<токен_для_доступа_к_бэкенду>
```

> Почему так: фронт вызывает свои `/api/*` роуты на Vercel, а те уже сервер-сайдом ходят на бэкенд.
> Токен хранится на стороне Vercel, в браузер не попадает.

## 3. Как добавить переменные окружения:

1. Перейдите в **Settings** → **Environment Variables**
2. Нажмите **Add New**
3. Введите **Name** (например, `HF_API_KEY`)
4. Введите **Value** (ваше значение)
5. Выберите окружения: ✅ Production, ✅ Preview, ✅ Development
6. Нажмите **Save**
7. Повторите для всех переменных

## 4. После добавления переменных:

1. Перейдите в **Deployments**
2. Найдите последний деплой
3. Нажмите **Redeploy** (чтобы применить новые переменные окружения)

## 5. Проверка после деплоя:

После успешного деплоя проверьте:
- ✅ Главная страница загружается
- ✅ Форма работает
- ✅ Анализ аудио работает (`/api/analyze-tajwid`)
- ✅ Отправка лида работает (`/api/submit-lead`)

## 6. Логи и отладка:

Если что-то не работает:
1. Перейдите в **Deployments** → выберите деплой → **Functions** → выберите функцию
2. Проверьте логи на наличие ошибок
3. Убедитесь, что все переменные окружения установлены правильно

## 7. Важные замечания

- На Vercel выполняется только Next.js. Все интеграции (HuggingFace/Sheets/Telegram) живут на стороне бэкенда.
- Убедитесь, что бэкенд доступен из интернета (если Vercel в облаке) и принимает `X-API-TOKEN`.

